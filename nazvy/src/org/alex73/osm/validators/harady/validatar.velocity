<!DOCTYPE html>
<html lang="be">
<head>
    <meta charset="UTF-8">
    <script type = "text/javascript" src = "http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<style type="text/css">
		body {
		    font-family: sans-serif;
		    font-size: 80%;
		}
		table {
		    border-collapse: collapse;
		}
		td, th {
		    border: 1px solid black;
		}
		.err {
			background-color: #FF8080;
		}
	</style>
</head>
<body>
#set ( $d = "$")
<script language="javascript">
    function send(cmd) {
        ${d}.ajax("http://127.0.0.1:8111/"+cmd);
        return false;
    }
    function sendAll() {
      ${d}.ajaxSetup({async: false});
      ${d}('input:checkbox:checked').map(function() {
        var cb = this;
        ${d}.ajax("http://127.0.0.1:8111/"+cb.value)
            .done(function( data ) {
                cb.checked = false;
            });
      });
    }
</script>

<div style="position: fixed; right: 50px; top: 15px; color:red; background-color: white; border-style: solid; border-color: red">
<b>Карыстайцеся JOSM 7521 ці пазьнейшым, бо стары JOSM псуе тэгі аб'ектаў !!!<br/>
І абавязкова спачатку дашліце 1 аб'ект і пазначце "Accept All Tags",  <br/>
бо калі дасылаеце больш за 1 аб'ект і паказваецца дыялог у JOSM,<br/>
ён псуе тэгі.
</b>
<button onClick="javascript: sendAll();">Даслаць у JOSM</button>
</div>

<b><u>Вынікі ад ${currentDateTime}</u></b> <br/><br/>

<a href="#p1">Памылкі (${data.nonExistInOsm.size()})</a><br/>
<a href="#p2">Няправільныя назвы рэгіёнаў (${data.incorrectTagsRehijony.rows.size()})</a><br/>
<a href="#p3">Няправільныя назвы і тэгі (${data.incorrectTags.rows.size()})</a><br/>
<a href="#p4">Няма ў даведніку (${data.unusedInDav.size()})</a><br/>

<br/>
<br/>
<br/>

<h1 id="p1">Памылкі (${data.nonExistInOsm.size()}):</h1> ID аб'екта ёсьць у даведніку, але няма на мапе
<ul>
    #foreach ( $str in $data.nonExistInOsm )
        <li>${str}</li>
    #end
</ul>

<h1 id="p2">Няправільныя назвы рэгіёнаў (${data.incorrectTagsRehijony.rows.size()}):</h1>
Часова выключана да выпраўленьня памылак
#set ( $table = $data.incorrectTagsRehijony )
#parse ("org/alex73/osm/validators/harady/result_table.velocity")

<h1 id="p3">Няправільныя назвы і тэгі (${data.incorrectTags.rows.size()}):</h1>
#set ( $table = $data.incorrectTags )
#parse ("org/alex73/osm/validators/harady/result_table.velocity")

<h1 id="p4">Няма ў даведніку (${data.unusedInDav.size()}):</h1> аб'екты мапы на якіх няма спасылак у даведніку
<ul>
    #foreach ( $str in $data.unusedInDav )
        <li>${str}</li>
    #end
</ul>

</body>
</html>
