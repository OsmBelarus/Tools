<!DOCTYPE html>
<html lang="be">
<head>
    <meta charset="UTF-8">
    <script type = "text/javascript" src = "http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<style type="text/css">
		body {
		    font-family: sans-serif;
		    font-size: 80%;
		}
		table {
		    border-collapse: collapse;
		}
		td, th {
		    border: 1px solid black;
		}
		.err {
			background-color: #FF8080;
		}
	</style>
</head>
<body>
<script language="javascript">
    function send(cmd) {
#set ( $d = "$")
        ${d}.ajax("http://127.0.0.1:8111/"+cmd);
        return false;
    }
</script>

<b><u>Вынікі ад ${currentDateTime}</u></b> <br/><br/>

<a href="#p1">Выдаленыя на мапе (${data.nonExistInOsm.size()})</a><br/>
<a href="#p2">Няправільныя назвы і тэгі (${data.incorrectTags.size()})</a><br/>
<a href="#p3">Нявызначаныя тэгі (${data.requiredTags.size()})</a><br/>
<a href="#p4">Няма ў даведніку (${data.unusedInDav.size()})</a><br/>

<br/>
<br/>
<br/>

<h1 id="p1">Выдаленыя на мапе (${data.nonExistInOsm.size()}):</h1> ID аб'екта ёсьць у даведніку, але няма на мапе
<ul>
    #foreach ( $str in $data.nonExistInOsm )
        <li>${str}</li>
    #end
</ul>

<h1 id="p2">Няправільныя назвы і тэгі (${data.incorrectTags.size()}):</h1> несупадзенне тэгаў па даведніку і тых што на мапе. RadioButton - выправіць ў JOSM.
<table>
	<tr>
	  <td>osm</td><td>Раён|Назва</td>
	  <td>place</td><td>name</td><td>name:ru</td>
	  <td>name:be</td><td>int_name</td><td>іншыя</td>
	</tr>
    #foreach ( $r in $data.incorrectTags )
    <tr>
      <td>${r.osmLink}</td><td>${r.davName}</td>
      <td>$!{r.type}</td><td>$!{r.name}</td><td>$!{r.nameRu}</td>
      <td>$!{r.nameBe}</td><td>$!{r.intName}</td><td>$!{r.other}</td>
    </tr>
    #end
</table>

<h1 id="p3">Нявызначаныя тэгі (${data.requiredTags.size()}):</h1> невызначаныя абавязковыя тэгі аб'ектаў на мапе
<table>
	<tr>
	  <td>osm</td><td>Назва</td>
	  <td>addr:country</td><td>addr:region</td><td>addr:district</td><td>population</td>
	</tr>
    #foreach ( $r in $data.requiredTags )
        <tr>
	      <td>${r.osmLink}</td><td>$!{r.davName}</td>
			#if (!$r.existCountry)
	          <td span class="err">няма</td>
			#else
			  <td></td>
			#end
			#if (!$r.existRegion)
			  <td span class="err">няма</td>
			#else
			  <td></td>
			#end
			#if (!$r.existDistrict)
			  <td span class="err">няма</td>
			#else
			  <td></td>
			#end
			#if (!$r.correctPopulation)
			  <td span class="err">выправіць</td>
			#else
			  <td></td>
			#end
	    </tr>
    #end
</table>

<h1 id="p4">Няма ў даведніку (${data.unusedInDav.size()}):</h1> аб'екты мапы на якіх няма спасылак у даведніку
<ul>
    #foreach ( $str in $data.unusedInDav )
        <li>${str}</li>
    #end
</ul>

</body>
</html>
